# HAVING Clause
-  It is used it to filter the groups 

| EID | ENAME | DNO |
|-----|-------|-----|
| 1   | ankita| 20  |



## Characteristics:-
- `Having` clause execute after group by clause.
- Having clause executes group by group. 
- We can use `multiRow function` in having clause.
## Syntax:-

    SELECT GRP_FUNCTION/GRP_BY_EXPRESSION
    FROM TAB_NAME
    [WHERE <FILTER CONDITION>]
    GROUP BY COL_NAME/EXPRESSION
    HAVING <GRP_FILTER_CONDITION>;

## Order Of Execution:-
 1. FROM
 2. WHERE[ROW BY ROW]
 3. GROUP BY[ROW BY ROW]
 4. HAVING[GRP BY GRP]
 5. SELECT[GRP BY GRP]    

#### WAQTD the no of employees working in each dept if there are more than 2 employees working in that dept.
    
    SELECT COUNT(*),DEPTNO
    FROM EMP
    GROUP BY DEPTNO
    HAVING COUNT(*)>2; 

2.

    SELECT COUNT(*),DEPTNO,SUM(SAL)
    FROM EMP
    GROUP BY DEPTNO
    HAVING COUNT(*)>3;

3. ---

        SELECT COUNT(*),JOB,SUM(SAL) AS TOT_SAL
        FROM EMP
        WHERE SAL>1200
        GROUP BY JOB
        HAVING SUM(SAL)>3800;



5. 

    SELECT JOB,MAX(SAL)
    FROM EMP
    GROUP BY JOB
    HAVING MAX(SAL)>2600;

6.

    SELECT SAL
    FROM EMP
    GROUP BY SAL
    HAVING COUNT(*)>1;

7.

    SELECT HIREDATE
    FROM EMP
    GROUP BY HIREDATE
    HAVING COUNT(*)>1;    

----------------------------

#### 1.

    SELECT JOB,SUM(SAL)
    FROM EMP
    GROUP BY JOB;    

#### 2.  

    SELECT HIREDATE,COUNT(*)
    FROM EMP
    GROUP BY HIREDATE
    HAVING COUNT(*)>=3;

#### 3. 

    SELECT COUNT(*),DEPTNO, SUM(SAL) AS TOT_SAL
    FROM EMP
    GROUP BY DEPTNO
    HAVING COUNT(*)>2 AND SUM(SAL)>9000;

#### 4. 

    SELECT DEPTNO,COUNT(*) AS EMP_COUNT, AVG(SAL) AS AVG_SALARY
    FROM EMP
    WHERE SAL>NVL(COMM, 0)
    GROUP BY DEPTNO;

    SELECT DEPTNO,COUNT(*) AS EMP_COUNT, AVG(SAL) AS AVG_SALARY
    FROM EMP
    WHERE SAL>COMM
    GROUP BY DEPTNO;    

#### 5. 

    SELECT SAL
    FROM EMP
    GROUP BY SAL
    HAVING COUNT(*)>1;

#### 6.

    SELECT ENAME
    FROM EMP
    GROUP BY ENAME
    HAVING COUNT(*)>1;

#### 7.  

    SELECT DEPTNO
    FROM EMP
    GROUP BY DEPTNO
    HAVING AVG(SAL)>=2500 AND AVG(SAL)<=3000;   

#### 8.

    SELECT COUNT(*),DEPTNO
    FROM EMP
    WHERE JOB IN('MANAGER','ANALYST') AND SAL*12 LIKE '%0'
    GROUP BY DEPTNO;

#### 9.  

    SELECT COUNT(*),JOB
    FROM EMP
    WHERE JOB='CLERK'
    GROUP BY DEPTNO;


#### 10.

    SELECT MAX(SAL),DEPTNO
    FROM EMP
    WHERE JOB='MANAGER'
    GROUP BY DEPTNO;

#### 11.
    
    SELECT COUNT(*),SAL
    FROM EMP
    GROUP BY SAL;

#### 12.

    SELECT DEPTNO,COUNT(*)
    FROM EMP
    WHERE DEPTNO !=10
    GROUP BY DEPTNO;

#### 13. WAQTD NUMBER OF EMPLOYEES GETTING COMISSION IN EACH DEPARTMENT

        SELECT DEPTNO,COUNT(*)
        FROM EMP
        WHERE COMM IS NOT NULL AND COMM>0
        GROUP BY DEPTNO;

#### 14. WAQTD NUMBER OF EMPLOYEES GETTING SALARY MORE THAN 1600 EXCLUDING ALL THE MANAGERS IN EACH DEPARTMENT.


        SELECT COUNT(*),DEPTNO
        FROM EMP
        WHERE SAL>1600 AND JOB!='MANAGER'
        GROUP BY DEPTNO;

#### 15. WAQTD AVERAGE SALARY NEEDED TO PAY ALL EMPLOYEES WHO ARE HAVING A REPORING MANAGER IN EACH JOB.

        SELECT AVG(SAL),JOB
        FROM EMP
        WHERE MGR IS NOT NULL
        GROUP BY JOB;

#### 16. WAQTD NUMBER OF EMPLOYEES HIRED INTO THE SAME DEPARTMENT ON THE SAME DAY.----
        
        SELECT DEPTNO,HIREDATE,COUNT(*) AS EMP_COUNT
        FROM EMP
        GROUP BY DEPTNO, HIREDATE
        HAVING COUNT(*)>1;

#### 17. WAQTD NUMBER OF EMPLOYEES GETTING THE SAME SALARY, WORKING IN THE SAME DEPARTMENT.
        
        SELECT DEPTNO,SAL,COUNT(*) AS EMP_COUNT
        FROM EMP
        GROUP BY DEPTNO, SAL
        HAVING COUNT(*)>1;


#### 18. WAQTD MAXIMUM SALARY GIVEN IN EACH DESIGNATION EXCLUDING THOSE WHOS NAME STARTS WITH 'k'.

        SELECT JOB,MAX(SAL) AS MAX_SALARY
        FROM EMP
        WHERE ENAME NOT LIKE 'A%'
          AND ENAME NOT LIKE 'E%'
          AND ENAME NOT LIKE 'I%'
          AND ENAME NOT LIKE 'O%'
          AND ENAME NOT LIKE 'U%'
        GROUP BY JOB;  

#### 19. WAQTD NUMBER OF EMPLOYEES REPORTING TO 7839 IN EACH DEPT.

        SELECT DEPTNO,COUNT(*) AS EMP_COUNT
        FROM EMP
        WHERE MGR=7839
        GROUP BY DEPTNO;

#### 20. WAQTD NUMBER OF EMPLOYEES NAMES STARTING WITH AN VOWEL IN EACH DEPARTMENT.
        SELECT DEPTNO, COUNT(*)
        FROM EMP
        WHERE ENAME NOT LIKE 'A%'
          AND ENAME NOT LIKE 'E%'
          AND ENAME NOT LIKE 'I%'
          AND ENAME NOT LIKE 'O%'
          AND ENAME NOT LIKE 'U%'
        GROUP BY DEPTNO;  

        